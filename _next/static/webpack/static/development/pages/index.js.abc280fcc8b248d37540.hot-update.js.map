{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.abc280fcc8b248d37540.hot-update.js","sources":["webpack:///./src/components/Carousel/Carousel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styles from './carousel.module.css';\nimport { useMotionValue, motion, useDragControls, useSpring } from 'framer-motion';\n\nexport default function Carousel({ children, width, unit }) {\n  // here we extracted the carousel functionality into its own hook\n  // const { translate, items, setAction } = useTransition(width, children);\n  const [index, setIndex] = useState(0);\n  const x = useSpring(0, { dumping: 0, stifness: 100, mass: 1 });\n  const handleNext = () => setIndex((old) => (old + 1) % children.length);\n  const handlePrev = () => setIndex((old) => (old - 1) % children.length);\n  const dragControls = useDragControls();\n  // const x = useMotionValue(-(width * index));\n\n  useEffect(() => {\n    x.set(-width * index);\n  }, [index]);\n\n  function onDragEnd(event, info) {\n    const offset = info.offset.x;\n    const velocity = info.velocity.x;\n\n    if (offset > width / 3 || velocity > 0.4) {\n      if (offset > 0) {\n        handleNext();\n      } else {\n        handlePrev();\n      }\n    }\n  }\n\n  return (\n    <div\n      className={styles.parent}\n      style={{\n        width: `${width}${unit}`,\n      }}\n    >\n      <div className={styles.container}>\n        <motion.div\n          className={styles.inner}\n          style={{\n            width: `${width * children.length}${unit}`,\n            // transform: `translateX(-${width * index}${unit})`,\n            // transition: 'transform 1s ease',\n            x,\n          }}\n          drag=\"x\"\n          dragControls={dragControls}\n          dragConstraints={{ left: 0, right: 0 }}\n          // onDrag={(event, info) => console.log(info.point.x, info.point.y)}\n        >\n          {children.map((item, i) => (\n            <motion.div\n              key={i}\n              className={styles.item}\n              style={{\n                width: `${width}${unit}`,\n                // pointerEvents: 'none',\n              }}\n              // onMouseDown={(e) => console.log(e) || dragControls.start(e, { snapToCursor: false,  })}\n              drag=\"x\"\n              dragConstraints={{ left: 0, right: 0 }}\n              onDrag\n            >\n              {item}\n            </motion.div>\n          ))}\n        </motion.div>\n      </div>\n      <div className={styles.controls}>\n        <button className={styles.next} onClick={handleNext}>\n          Next\n        </button>\n        <button className={styles.prev} onClick={handlePrev}>\n          Prev\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAQA;AACA;AAAA;AAAA;AAAA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;A","sourceRoot":""}