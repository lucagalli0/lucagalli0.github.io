{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.b500999cb74d67b32506.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import * as React from 'react';\nimport Stack from '@chakra-ui/core/dist/Stack';\nimport dynamic from 'next/dynamic';\nimport Main from '~/components/Main';\nimport Intro from '~/components/home/Intro';\nimport Description from '~/components/home/Description';\nimport InEvidenza from '~/components/home/InEvidenza';\n// import News from '~/components/home/News';\n// import Promo from '~/components/home/Promo';\n// import Partners from '~/components/home/Partners';\n\nimport client, { HOMEPAGE_QUERY } from '~/graphql';\nimport fetch from 'node-fetch';\nimport fs from 'fs';\nimport Carousel from '~/components/Carousel/Carousel';\n\nconst newsEndpoint = 'http://webservice.columbusinformatica.it/api/news';\nconst offerteEndpoint = 'http://webservice.columbusinformatica.it/api/offerte';\n\nexport async function getStaticProps() {\n  const descriptionData = await client.request(HOMEPAGE_QUERY);\n  const newsData = await fetch(newsEndpoint).then((res) => res.json());\n  const offerteData = await fetch(offerteEndpoint).then((res) => res.json());\n  // const newsData = [];\n  // const offerteData = [];\n  const partnersImages = fs.readdirSync('public/static/images/partners');\n  const [firstRow, secondRow] = partnersImages.reduce(\n    (acc, curr, index) => {\n      if (index % 2 === 0) acc[0].push(curr);\n      else acc[1].push(curr);\n      return acc;\n    },\n    [[], []]\n  );\n  return {\n    props: {\n      ...descriptionData,\n      news: newsData,\n      offerte: offerteData,\n      firstRow,\n      secondRow,\n    },\n  };\n}\n\nconst News = dynamic(import('../src/components/home/News'));\nconst Promo = dynamic(import('../src/components/home/Promo'));\nconst Partners = dynamic(import('../src/components/home/Partners'));\n\nexport default ({ homepage, news, offerte, firstRow, secondRow }) => {\n  return (\n    <Main isHome>\n      <Stack overflowX=\"hidden\" spacing={8}>\n        <Intro />\n        <Description data={homepage.cards} />\n        {/* <InEvidenza /> */}\n        <News data={news} skew={3} />\n        <Promo data={offerte} />\n        <Partners firstRow={firstRow} secondRow={secondRow} />\n      </Stack>\n    </Main>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AA+BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;A","sourceRoot":""}