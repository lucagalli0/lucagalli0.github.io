{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.4d15f1bbf98ef5fad829.hot-update.js","sources":["webpack:///./node_modules/node-fetch/browser.js","webpack:///./pages/index.js"],"sourcesContent":["\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","import * as React from 'react';\nimport { Stack } from '@chakra-ui/core';\nimport Main from '~/components/Main';\nimport Intro from '~/components/home/Intro';\nimport Description from '~/components/home/Description';\nimport InEvidenza from '~/components/home/InEvidenza';\nimport News from '~/components/home/News';\nimport Promo from '~/components/home/Promo';\nimport Partners from '~/components/home/Partners';\n\nimport client, { HOMEPAGE_QUERY } from '~/graphql';\nimport fetch from 'node-fetch';\nimport fs from 'fs';\nimport Carousel from '~/components/Carousel/Carousel';\n\nconst newsEndpoint = 'http://webservice.columbusinformatica.it/api/news';\nconst offerteEndpoint = 'http://webservice.columbusinformatica.it/api/offerte';\n\nexport async function getStaticProps() {\n  const descriptionData = await client.request(HOMEPAGE_QUERY);\n  // const newsData = await fetch(newsEndpoint).then((res) => res.json());\n  // const offerteData = await fetch(offerteEndpoint).then((res) => res.json());\n  const newsData = [];\n  const offerteData = [];\n  const partnersImages = fs.readdirSync('public/static/images/partners');\n  const [firstRow, secondRow] = partnersImages.reduce(\n    (acc, curr, index) => {\n      if (index % 2 === 0) acc[0].push(curr);\n      else acc[1].push(curr);\n      return acc;\n    },\n    [[], []]\n  );\n  return {\n    props: {\n      ...descriptionData,\n      news: newsData,\n      offerte: offerteData,\n      firstRow,\n      secondRow,\n    },\n  };\n}\n\nexport default ({ homepage, news, offerte, firstRow, secondRow }) => {\n  return (\n    <Main isHome>\n      <Stack overflowX=\"hidden\" spacing={8}>\n        <Intro />\n        <Description data={homepage.cards} />\n        {/* <InEvidenza /> */}\n        <News data={news} skew={3} />\n        <Promo data={offerte} />\n        <Carousel>\n          <div style={{ height: 200, backgroundColor: 'blue' }}>ALALALA</div>\n          <div style={{ height: 200, backgroundColor: 'red' }}>ALALALA</div>\n          <div style={{ height: 200, backgroundColor: 'green' }}>ALALALA</div>\n          <div style={{ height: 200, backgroundColor: 'purple' }}>ALALALA</div>\n          <div style={{ height: 200, backgroundColor: 'yellow' }}>ALALALA</div>\n          <div style={{ height: 200, backgroundColor: 'pink' }}>ALALALA</div>\n        </Carousel>\n        <Partners firstRow={firstRow} secondRow={secondRow} />\n      </Stack>\n    </Main>\n  );\n};\n"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AAEA;AACA;;AA4BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;A","sourceRoot":""}