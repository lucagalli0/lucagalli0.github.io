{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.9bf7945bafc2d97cedcc.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import * as React from 'react';\nimport { Stack } from '@chakra-ui/core';\nimport Header from '~/components/Header';\nimport Intro from '~/components/home/Intro';\nimport Description from '~/components/home/Description';\nimport InEvidenza from '~/components/home/InEvidenza';\nimport News from '~/components/home/News';\nimport Offerte from '~/components/home/Offerte';\nimport Partners from '~/components/home/Partners';\nimport Footer from '~/components/Footer';\n\nimport client, { HOMEPAGE_QUERY } from '~/graphql';\nimport fetch from 'node-fetch';\nimport fs from 'fs';\n\nconst newsEndpoint = 'http://webservice.columbusinformatica.it/api/news';\nconst offerteEndpoint = 'http://webservice.columbusinformatica.it/api/offerte';\n\nexport async function getStaticProps() {\n  const descriptionData = await client.request(HOMEPAGE_QUERY);\n  const newsData = await fetch(newsEndpoint).then((res) => res.json());\n  const offerteData = await fetch(offerteEndpoint).then((res) => res.json());\n  const partnersImages = fs.readdirSync('public/static/images/partners');\n  const [images1, images2] = partnersImages.reduce(\n    (acc, curr, index) => {\n      if (index % 2 === 0) acc[0].push(curr);\n      else acc[1].push(curr);\n      return acc;\n    },\n    [[], []]\n  );\n  return {\n    props: {\n      ...descriptionData,\n      news: newsData,\n      offerte: offerteData,\n      partnersImages,\n    },\n  };\n}\n\nexport default ({ homepage, news, offerte, partnersImages }) => {\n  return (\n    <Stack overflowX=\"hidden\" spacing={8}>\n      <Header />\n      <Intro />\n      <Description data={homepage.cards} />\n      <InEvidenza />\n      <News data={news} />\n      <Offerte data={offerte} />\n      <Partners firstRow={firstRow} secondRow={secondRow} />\n      <Footer />\n    </Stack>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAgCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;A","sourceRoot":""}