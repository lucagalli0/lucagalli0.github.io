{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.52ad841500eab1d1d9f3.hot-update.js","sources":["webpack:///./src/components/Carousel/Carousel.js"],"sourcesContent":["import * as React from 'react';\nimport styles from './carousel.module.css';\nimport { useSprings, animated } from 'react-spring';\nimport { useDrag } from 'react-use-gesture';\nimport { Box } from '@chakra-ui/core';\n\nfunction clamp(num, clamp, higher) {\n  return higher ? Math.min(Math.max(num, clamp), higher) : Math.min(num, clamp);\n}\n\nexport default function Carousel({ activeIndex = 0, auto = 0, children = [] }) {\n  const sliderRef = React.useRef();\n  const [slide, setSlide] = React.useState(0);\n  const [isDragging, setDragging] = React.useState(false);\n\n  // Initialize slides with spring\n  const [springProps, setSpringProps] = useSprings(children.length, (index) => ({\n    offset: index,\n  }));\n\n  const bind = useDrag(({ down, movement: [xDelta], direction: [xDir], distance, cancel, first }) => {\n    if (first) {\n      setDragging(true);\n    }\n    if (sliderRef && sliderRef.current && sliderRef.current.parentElement) {\n      const { width } = sliderRef.current.parentElement.getBoundingClientRect();\n\n      if (down && distance > width / 2) {\n        if (cancel) cancel();\n        setSlide(clamp(slide + (xDir > 0 ? -1 : 1), 0, children.length - 1));\n      }\n      setSpringProps((index) => ({\n        offset: (down ? xDelta : 0) / width + (index - slide),\n      }));\n    }\n  });\n\n  // Triggered on slide change\n  React.useEffect(() => {\n    setSpringProps((index) => ({ offset: index - slide }));\n  }, [slide, setSpringProps]);\n\n  // Effect for autosliding\n  React.useEffect(() => {\n    let interval;\n\n    if (auto > 0) {\n      interval = setInterval(() => {\n        const targetIndex = (slide + 1) % children.length;\n        setSlide(targetIndex);\n      }, auto);\n    }\n\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [auto, children.length, slide]);\n\n  // Jump to slide index when prop changes\n  React.useEffect(() => {\n    setSlide(activeIndex % children.length);\n  }, [activeIndex, children.length]);\n\n  const nextSlide = () => {\n    if (slide === children.length - 1) {\n      setSlide(0);\n      return;\n    }\n\n    setSlide(slide + 1);\n  };\n\n  const previousSlide = () => {\n    if (slide === 0) {\n      setSlide(children.length - 1);\n      return;\n    }\n\n    setSlide(slide - 1);\n  };\n\n  return (\n    <Box h=\"100%\" w=\"100%\" ref={sliderRef}>\n      <Box position=\"relative\" overflow=\"hidden\" h=\"100%\" w=\"100%\">\n        {/* {hasArrows && (\n          <StyledSliderArrows>\n            <Arrow ArrowComponent={ArrowComponent} arrowStyle={arrowStyle} direction=\"left\" onClick={previousSlide} />\n            <Arrow ArrowComponent={ArrowComponent} arrowStyle={arrowStyle} direction=\"right\" onClick={nextSlide} />\n          </StyledSliderArrows>\n        )}\n        {hasBullets && (\n          <StyledBullets>\n            <StyledBulletList>\n              {children.map((_, index) => (\n                <Bullet\n                  key={index} // eslint-disable-line react/no-array-index-key\n                  index={index}\n                  BulletComponent={BulletComponent}\n                  setSlide={setSlide}\n                  activeIndex={slide}\n                  bulletStyle={bulletStyle}\n                />\n              ))}\n            </StyledBulletList>\n          </StyledBullets>\n        )} */}\n        {springProps.map(({ offset }, index) => (\n          <animated.div\n            {...bind()}\n            key={index}\n            style={{\n              transform: offset.interpolate((offsetX) => `translate3d(${offsetX * 100}%, 0, 0)`),\n              position: 'absolute',\n              width: '100%',\n              height: '100%',\n              willChange: 'transform',\n            }}\n          >\n            <Box h=\"100%\" w=\"100%\">\n              {children[index]}\n            </Box>\n          </animated.div>\n        ))}\n      </Box>\n    </Box>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAMA;AACA;AADA;AAAA;AANA;AAAA;AAAA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AALA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAZA;AAoBA;;;;A","sourceRoot":""}