{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.4c3a247345115ff62989.hot-update.js","sources":["webpack:///./src/components/Carousel/Carousel.js"],"sourcesContent":["import * as React from 'react';\nimport { useSprings, useSpring, animated, interpolate } from 'react-spring';\nimport { useDrag } from 'react-use-gesture';\nimport { Box, Flex } from '@chakra-ui/core';\n\nexport default function Carousel({ activeIndex = 0, auto = 0, children = [], ...props }) {\n  const sliderRef = React.useRef();\n  const [slide, setSlide] = React.useState(0);\n  const [isDragging, setDragging] = React.useState(false);\n\n  // Initialize slides with spring\n  const [springProps, setSpringProps] = useSprings(children.length, (index) => ({\n    offset: index,\n  }));\n\n  const bind = useDrag(\n    ({ down, movement: [xDelta], direction: [xDir], distance, cancel, first }) => {\n      if (first) {\n        setDragging(true);\n      }\n      if (sliderRef && sliderRef.current && sliderRef.current.parentElement) {\n        const { width } = sliderRef.current.parentElement.getBoundingClientRect();\n\n        if (down && distance > width / 3) {\n          if (cancel) cancel();\n          setSlide((slide + (xDir > 0 ? -1 : 1)) % children.length);\n        }\n        setSpringProps((index) => ({\n          offset: (down ? xDelta : 0) / width + (index - slide),\n        }));\n      }\n    },\n    { filterTaps: true, delay: true, axis: 'x', enabled: true /*children.length > 1*/ }\n  );\n\n  // Triggered on slide change\n  React.useEffect(() => {\n    setSpringProps((index) => ({ offset: index - slide }));\n  }, [slide, setSpringProps]);\n\n  // Effect for autosliding\n  React.useEffect(() => {\n    let interval;\n\n    if (auto > 0) {\n      interval = setInterval(() => {\n        const targetIndex = (slide + 1) % children.length;\n        setSlide(targetIndex);\n      }, auto);\n    }\n\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [auto, children.length, slide]);\n\n  // Jump to slide index when prop changes\n  React.useEffect(() => {\n    setSlide(activeIndex % children.length);\n  }, [activeIndex, children.length]);\n\n  const nextSlide = () => {\n    setSlide((slide + 1) & children.length);\n  };\n\n  const previousSlide = () => {\n    setSlide((slide - 1) & children.length);\n  };\n\n  const { x } = useSpring({\n    x: slide * 2 + 0.5,\n    scale: 1,\n  });\n  const activeBulletOffset = x.interpolate((off) => `translateX(${off}rem)`);\n  const activeBulletScale = x.interpolate({\n    range: [0.5, children.length * 2 + 0.5],\n    output: ['scale(0.5)', 'scale(1)'],\n  });\n\n  // .interpolate({\n  //   range: [0, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 1],\n  //   output: [1, 0.97, 0.9, 1.1, 0.9, 1.1, 1.03, 1],\n  // })\n\n  return (\n    <Box minH=\"320px\" w=\"100%\" ref={sliderRef} {...props}>\n      <Box position=\"relative\" overflow=\"hidden\" minH=\"320px\" w=\"100%\">\n        {springProps.map(({ offset }, index) => (\n          <animated.div\n            {...bind()}\n            key={index}\n            style={{\n              transform: offset.interpolate((offsetX) => `translate3d(${offsetX * 100}%, 0, 0)`),\n              position: 'absolute',\n              display: 'inline-block',\n              width: '100%',\n              height: '100%',\n              willChange: 'transform',\n            }}\n          >\n            <Box minH=\"320px\" w=\"100%\" userSelect={isDragging ? 'none' : 'auto'}>\n              {children[index]}\n            </Box>\n          </animated.div>\n        ))}\n      </Box>\n      {children.length > 1 ? (\n        <Flex mx={[2, 8, 24]} alignItems=\"center\" position=\"relative\">\n          {children.map((_, i) => (\n            <Box\n              key={i}\n              mx=\"0.5rem\"\n              h=\"1rem\"\n              w=\"1rem\"\n              borderRadius=\"50%\"\n              backgroundColor=\"gray.200\"\n              transition=\"background-color 0.2s linear\"\n              cursor=\"pointer\"\n              onClick={() => setSlide(i)}\n            />\n          ))}\n          <animated.div\n            // mx=\"0.5rem\"\n            // h=\"1rem\"\n            // w=\"1rem\"\n            // borderRadius=\"50%\"\n            // backgroundColor=\"green.200\"\n            // transition=\"background-color 0.2s linear\"\n            // cursor=\"pointer\"\n            style={{\n              height: '1rem',\n              width: '1rem',\n              borderRadius: '50%',\n              backgroundColor: 'red',\n              position: 'absolute',\n              transform: interpolate([x, scale], (x, scale) => `translateX${x}rem scale(${scale})`),\n            }}\n          />\n        </Flex>\n      ) : null}\n    </Box>\n  );\n}\n\nconst AnimatedBox = animated(Box);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAMA;AACA;AADA;AAAA;AANA;AAAA;AAAA;AACA;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/DA;AAiEA;AACA;AAFA;AAhEA;AACA;AAmEA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AANA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAbA;AAoBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA;AAEA;;;;A","sourceRoot":""}