{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.fc2f7b4d19590bf3f5e7.hot-update.js","sources":["webpack:///./pages/index.js","webpack:///./src/components/Main.js"],"sourcesContent":["import * as React from 'react';\nimport { Stack } from '@chakra-ui/core';\nimport Main from '~/components/Main';\nimport Intro from '~/components/home/Intro';\nimport Description from '~/components/home/Description';\nimport InEvidenza from '~/components/home/InEvidenza';\nimport News from '~/components/home/News';\nimport Promo from '~/components/home/Promo';\nimport Partners from '~/components/home/Partners';\n\nimport client, { HOMEPAGE_QUERY } from '~/graphql';\nimport fetch from 'node-fetch';\nimport fs from 'fs';\n\nconst newsEndpoint = 'http://webservice.columbusinformatica.it/api/news';\nconst offerteEndpoint = 'http://webservice.columbusinformatica.it/api/offerte';\n\nexport async function getStaticProps() {\n  const descriptionData = await client.request(HOMEPAGE_QUERY);\n  const newsData = await fetch(newsEndpoint).then((res) => res.json());\n  const offerteData = await fetch(offerteEndpoint).then((res) => res.json());\n  const partnersImages = fs.readdirSync('public/static/images/partners');\n  const [firstRow, secondRow] = partnersImages.reduce(\n    (acc, curr, index) => {\n      if (index % 2 === 0) acc[0].push(curr);\n      else acc[1].push(curr);\n      return acc;\n    },\n    [[], []]\n  );\n  return {\n    props: {\n      ...descriptionData,\n      news: newsData,\n      offerte: offerteData,\n      firstRow,\n      secondRow,\n    },\n  };\n}\n\nexport default ({ homepage, news, offerte, firstRow, secondRow }) => {\n  return (\n    <Main>\n      <Stack overflowX=\"hidden\" spacing={8}>\n        <Intro />\n        <Description data={homepage.cards} />\n        <InEvidenza />\n        <News data={news} skew={3} />\n        <Promo data={offerte} />\n        <Partners firstRow={firstRow} secondRow={secondRow} />\n      </Stack>\n    </Main>\n  );\n};\n","import * as React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\n\nexport default function Main({ children }) {\n  return (\n    <>\n      <Header />\n      {children}\n      <Footer />\n    </>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAiCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;;;;;;;;;;;;;;;;;ACtDA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;A","sourceRoot":""}